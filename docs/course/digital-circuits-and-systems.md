---
relevant: ./set-theory.md
---

# 数字电路与系统

$$
\newcommand\pair[1]{\left<#1\right>}
$$

## §2 逻辑代数

### Karnaugh 图

> :material-clock-edit-outline: 2022年3月12日。

画大圈，少重叠。

（此处都是要找“与或”式，即积的和。）

---

“先画大圈”可能只有概率依据而无逻辑依据。例如风车形（下图）的最优解是四个小圈。

完全演绎式的方法应该像“Quine-McCluskey 表格化简法”那样找本质蕴含项、覆盖关系之类的。例如先考虑风车角上的“1”，发现可画的圈只有两个，且相互包含，故最后必然要选大的那个圈。其它三角同理。

$$
\begin{array}{c|c}
    & & 1 & \\
    \hline
    1 & 1 & 1 & \\
    \hline
    & 1 & 1 & 1 \\
        \hline
    & 1 & & \\
\end{array}
$$

---

多对多逻辑函数的“最简”是整体的，其中某个逻辑函数不一定最简。

## §5 锁存器和触发器

### 各种器件的状态转换方程和驱动方程

> :material-clock-edit-outline: 2022年4月10日、6月15日。

锁存器（latch）是电平触发，触发器（flip-flop）是边沿触发，后者的方程都省略了触发条件。

下表中现态为 $Q$，次态为 $Q'$；书上的符号是 $Q^n$ 和 $Q^{n+1}$。

|                         |                 状态转换方程                  |        驱动方程         |               比较                |
| :---------------------: | :-------------------------------------------: | :---------------------: | :-------------------------------: |
|  R(reset)-S(set) latch  |      $Q' = S + \bar R Q$，要求 $SR = 0$       | $S = Q'$，$R = \bar Q'$ |                                   |
|     门控 R-S latch      | $Q' = G(S+\bar RQ) + \bar G Q$，要求 $GSR =0$ |        （同上）         |         用与非门过滤输入          |
|   D(data/delay) latch   |             $Q' = GD + \bar G Q$              |        $D = Q'$         |             合并R、S              |
|  主从式 R-S flip-flop   |                   （同上）                    |        （同上）         |        两级串联，门接时钟         |
| （主从式）J-K flip-flop |           $Q' = J\bar Q + \bar K Q$           |   $J=Q'$，$K=\bar Q'$   | $Q,\bar Q$ 分别用与门反馈 $K,J$。 |
|       D flip-flop       |                   $Q' = D$                    |        $D = Q'$         |                                   |
|   T(toggle) flip-flop   |               $Q' = T \oplus Q$               |    $T = Q' \oplus Q$    |                                   |
|      T’ flip-flop       |                 $Q' = \bar Q$                 |                         |                                   |

> 严格来说，“低有效输入”变量的反不能写成原变量，但这里为简洁，还是这么写了。

## §7 时序逻辑电路

### 一些名称

> :material-clock-edit-outline: 2022年6月16日。

> 输入 $X$，输出 $Z$，驱动 $W$，现态 $Q$，次态 $Q'$。

- 图

  - 状态转换图：$\pair{X,Q} \mapsto \pair{Z,Q'}$，Moore 型简化为 $\pair{X,Q} \mapsto Q',\, Q \mapsto Z$。
  - 逻辑（电路）（原理）图。
  - 时序图（波形图）。

- 表

  - 状态转换表：同“状态转换图”。
  - 状态顺序表。
  - 状态转换驱动表：$\qty(\pair{X,Q} \mapsto Q') \mapsto W$。
  - 输出函数表（仅限 Moore 型）：$Q \mapsto Z$。
  - 状态转换真值表：$\qty(\pair{X, Q} \mapsto W) \mapsto \pair{Z, Q'}$。

- 逻辑方程

  - 输出：$\pair{X,Q} \mapsto Z$。
  - 驱动：$\pair{X,Q} \mapsto W$。
  - 状态：$\pair{W, Q} \mapsto Q'$。


### 分配状态

> :material-clock-edit-outline: 2022年6月16日。

争取相似状态相邻。

1. 相同输入后，次态相同。（简化状态方程）
2. 相邻输入前，前态相同。（简化驱动方程）
3. 输出相同。（简化输出方程）

## MSI 型号

> :material-clock-edit-outline: 2022年6月16、17日。

MSI: medium-scale integration.

> “教材”：数字电路与系统设计，丁志杰、赵宏图、张延军编著，（北京）清华大学出版社，2020年12月第1版。（ISBN 978–7–302–52645–2）

|    型号     |            功能            | 教材上的位置  | 说明                         |
| :---------: | :------------------------: | :-----------: | ---------------------------- |
|  74 LS 42   |       8431 BCD 译码        | 139页§4.2.2.3 | 输出低有效。                 |
|  74 LS 74   |         1位 D 触发         |  220页§5.6.4  |                              |
|  74 LS 75   |         4位 D 锁存         |  213页§5.3.4  | 带门控。                     |
|  74 LS 85   |        4位数值比较         | 150页§4.2.4.2 | 可级联。                     |
|  74 LS 138  |          3→8 译码          | 133页§4.2.2.1 | 带3个使能端，输出低有效。    |
|  74 LS 139  | 双 2→4 译码或 1→4 多路分配 | 132页§4.2.2.1 | 带使能端，输出低有效。       |
|  74 LS 147  |     8421 BCD 优先编码      | 129页§4.2.1.4 | 带 EI、EO、GS，全都低有效。  |
|  74 LS 148  |        8→3 优先编码        | 127页§4.2.1.4 | 同 74 LS 147。               |
|  74 LS 151  |        8→1 多路选择        | 159页§4.2.5.2 | 带使能端。                   |
|  74 LS 153  |      双 4→1 多路选择       | 154页§4.2.5.1 | 共用控制信号，各有使能信号。 |
|  74 LS 154  |         4→16 译码          | 135页§4.2.2.1 | 带2个使能端，输出低有效。    |
| 74 LS 161/3 |     同步4位二进制计数      |  240页§6.4.2  | 异/同步清零。                |
|  74 LS 194  |          4位移存           |  249页§6.5.3  | 左右移、置数，保存。         |
|  74 LS 248  |     七段数码管显示译码     | 141页§4.2.2.4 | 带 LT、RBI、RBO。            |
|  74 LS 279  |      4位基本 R-S 锁存      |  208页§5.1.4  |                              |
|  74 LS 283  |          4位全加           | 146页§4.2.3.4 | 超前进位。                   |
|  74 LS 290  |      异步 2–5–10 计数      |  236页§6.4.1  | 异步清零、置九。             |

- EI/O: enable input / output.
- GS: group select.
- RBI/O: ripple blanking input / output.
- LT: lamp test.

# 后备箱

- 最小项（积）与最大项（和）的编号不要弄混。
- 余 3 码始终余 3。
- 画时序图时要考虑毛刺。
- 区分反码与补码。
- 写 Karnaugh 图时注意变量顺序。
- 区分锁存器与触发器。
- 区分同步和异步复位。
